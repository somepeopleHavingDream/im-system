- 实时性
    - 通过多线程解决消息串行问题
    - 消息校验前置，放在 tcp 服务，校验通过后，才发送到逻辑层
    - 持久化解耦，异步持久化聊天记录
- 有序性
    - 生成绝对递增的序列号
- 可靠性
    - 上行 ack （服务端发来的 ack ）
    - 下行 ack （接收端发来的 ack ）
    - 发送方定时重传
- 幂等性
    - 服务端去重，根据客户端 messageId
    - sdk 去重，也是根据发送方的 messageId 或服务端 messageKey